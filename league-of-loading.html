<head>
  <title>League of Loading</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>

  <div class="container">

    <div class="modal enter-summoner-name-modal">
      <div class="modal-content">
        <input class="summoner-name" type="text" placeholder="Enter Summoner Name" />
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat load-summoner">Go</a>
      </div>
    </div>


     <div class="top-bar grey darken-3 z-depth-4 white-text">
       <h5 class="app-title">League of Load Screens</h5>
       <a class="change-summoner orange-text lighten-1" href="#">
          {{#if summoner}}
            {{summoner.riotData.name}}
          {{else}}
            Choose Summoner
          {{/if}}
       </a>
     </div>
     <div class="top-bar-spacer"></div>


    <div class="current-game row">

      {{#if currentGame}}

        <ul class="collapsible popout z-depth-4">
        {{#each currentGame.players}}
          {{>participant}}
        {{/each}}
        </ul>

     {{else}}

       <div class="col s12 m6 offset-m3">
         <div class="card grey darken-3 z-depth-4">
           <div class="card-content white-text">
              {{#if summoner}}
              <span class="card-title">{{ summoner.riotData.name }}</span>
              {{else}}
              <span class="card-title">Enter a summoner name</span>
              {{/if}}

              <p class="not-in-game-text">Not currently in a game</p>

              <div class="checking-game-indicator progress">
                  <div class="indeterminate"></div>
              </div>

            </div>
            <div class="card-action">

              <a class="refresh-current-game" href="#">
                Refresh
              </a>
            </div>
          </div>
        </div>

       {{/if}}
    </div>

  </div>
</body>

<template name="participant">
  <li class="participant-listing">
    <div class={{team}}></div>

    <div class="collapsible-header">
      <img
        class="summoner-icon"
        src={{championInfo.image.full}} />
      <span class="summoner-name">
        {{summonerName}}
      </span>

      <span class="league-title text-lighten-1">
        {{soloQueueLeague.displayText}}
      </span>
      <img
        class="league-icon"
        src={{soloQueueLeague.iconUrl}} />
    </div>
    <div class="collapsible-body">
      {{#if isAlly}}
        <p>Tips for playing as {{ championInfo.name }}</p>
        <ul class='collection'>
          {{#each championInfo.allytips}}
          <li class="collection-item">{{this}}</li>
          {{/each}}
        </ul>
      {{else}}
      <p>Tips for playing against {{ championInfo.name }}</p>
        <ul class='collection'>
          {{#each championInfo.enemytips}}
          <li class="collection-item">{{this}}</li>
          {{/each}}
        </ul>
      {{/if}}
    </div>
  </li>
</template>
