<head>
  <title>League of Load Screens</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>

  <div class="container">

    <div class="modal enter-summoner-name-modal">
      <div class="modal-content">
        <input class="summoner-name" type="text" placeholder="Enter Summoner Name" />
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat load-summoner">Go</a>
      </div>
    </div>

     <div class="top-bar grey darken-3 z-depth-2 white-text">
       <h5 class="app-title">League of Load Screens</h5>
       <a class="change-summoner orange-text lighten-1" href="#">
          {{#if summoner}}
            {{summoner.name}}
          {{else}}
            Choose Summoner
          {{/if}}
       </a>
     </div>
     <div class="top-bar-spacer"></div>

    <div class="current-game row">

      {{#if currentGame}}

        <ul id="participant-list" class="collapsible popout z-depth-4">
        {{#each currentGame.players}}
          {{>participant}}
        {{/each}}
        </ul>


        <div class="col s6 offset-s3">
          <a
            class="waves-effect waves-light btn-large refresh-game z-depth-4"
            style="opacity: 0">
            Refresh Game
          </a>
        </div>

     {{else}}

       <div class="col s12 m6 offset-m3">
         <div class="card grey darken-3 z-depth-4">
           <div class="card-content white-text">
              {{#if summoner}}
              <span class="card-title">{{ summoner.name }}</span>
              {{else}}
              <span class="card-title">Enter a summoner name</span>
              {{/if}}

              <p class="not-in-game-text">Not currently in a game.<br>Refresh once the game is loading.</p>

              <div class="checking-game-indicator progress">
                  <div class="indeterminate"></div>
              </div>

            </div>
            <div class="card-action">

              <a class="refresh-game" href="#">
                Refresh
              </a>
              <a class="change-summoner orange-text lighten-1" href="#">
                Change Summoner
              </a>
            </div>
          </div>
        </div>

       {{/if}}

    </div>

    <div class="ad">
      
    </div>
  </div>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-65854146-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>

<template name="participant">
  <li class="participant-listing {{team}}" data-summoner-id="{{summonerId}}">
    <div class="collapsible-header">
      <img
        class="summoner-icon"
        src={{championInfo.image.full}} />
      <span class="summoner-name">
        {{summonerName}}
      </span>
      <img class="spell-icon" src={{spell1Url}} />
      <img class="spell-icon" src={{spell2Url}} />

      <span class="league-title text-lighten-1">
        {{soloQueueLeague.displayText}}
      </span>

      <img
        class="league-icon"
        src={{soloQueueLeague.iconUrl}} />
    </div>
    <div class="collapsible-body">
      <div class="row">
        <div class="col s12">
          <ul class="tabs">
            <li class="tab col s3">
              <a class="active {{teamText}}" href="#summoner-tips-{{summonerId}}">{{ summonerName }}</a>
            </li>
            <li class="tab col s3">
              <a class="{{teamText}}" href="#champ-tips-{{summonerId}}">{{ championInfo.name }}</a>
            </li>
          </ul>
        </div>
        <div id="summoner-tips-{{summonerId}}" class="col s12">

          <ul class="collection">
            <li class="collection-item">
              <span class="stat-title">Likely to Survive</span>
              <span class="stat-value">{{stats.deaths}}</span>
            </li>
            <li class="collection-item">
              <span class="stat-title">Kills and Assists</span>
              <span class="stat-value">{{stats.killsAndAssists}}</span>
            </li>
            <li class="collection-item">
              <span class="stat-title">Vision Control</span>
              <span class="stat-value">{{stats.visionControlRating}}</span>
            </li>
            <li class="collection-item">
              <span class="stat-title">Tower Threat</span>
              <span class="stat-value">{{stats.towerFocus}}</span>
            </li>
            <li class="collection-item">
              <span class="stat-title">Jungle Invader</span>
              <span class="stat-value">{{stats.likelyToInvadeJungle}}</span>
            </li>
            <li class="collection-item">
              <span class="stat-title">Farming</span>
              <span class="stat-value">{{stats.farmRating}}</span>
            </li>
            <li class="collection-item">
              <span class="stat-title">Most common role</span>
              <span class="stat-value">{{stats.mostCommonRole}}</span>
            </li>
          </ul>

        </div>
        <div id="champ-tips-{{summonerId}}" class="col s12">
          {{#if isAlly}}
            <ul class='collection'>
              {{#each championInfo.allytips}}
              <li class="collection-item"> {{this}} </li>
              {{/each}}
            </ul>
          {{else}}
            <ul class='collection'>
              {{#each championInfo.enemytips}}
              <li class="collection-item"> {{this}} </li>
              {{/each}}
            </ul>
          {{/if}}
        </div>
      </div>
    </div>
  </li>
</template>
